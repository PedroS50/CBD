CREATE KEYSPACE IF NOT EXISTS video_streaming WITH replication = { 'class': 'SimpleStrategy', 'replication_factor': 1 }

DROP TABLE IF EXISTS video_streaming.user;
DROP TABLE IF EXISTS video_streaming.video;
DROP TABLE IF EXISTS video_streaming.comment;
DROP TABLE IF EXISTS video_streaming.follower;
DROP TABLE IF EXISTS video_streaming.event;
DROP TABLE IF EXISTS video_streaming.rating;

--- Table definitions
-- User
CREATE TABLE user (username text, name text, email text, registerDate timestamp, PRIMARY KEY (email));

-- Video
CREATE TABLE video (id timeuuid, author text, name text, description text, tag list<text>, uploadDate timestamp, PRIMARY KEY(id, author));

-- Comment
CREATE TABLE comment (author text, description text, comment_date timestamp, video_author text, video_id timeuuid, PRIMARY KEY(video_author, video_id, comment_date, author));

-- Follower
CREATE TABLE follower (email text, video_author text, video_id timeuuid, PRIMARY KEY(video_author, video_id, email));

-- Event
CREATE TABLE event (user text, type text, event_date timestamp, video_time int, video_author text, video_id timeuuid, PRIMARY KEY(user, event_date, video_author, video_id));

-- Rating
CREATE TABLE rating (id timeuuid, value int, video_author text, video_id timeuuid, PRIMARY KEY(id, video_author, video_id));








